<!DOCTYPE html>

<html lang=en ng-app="AddPictureapp">

<head>
    <title>Add Picture</title>
    <% include ./partials/head %>
</head>

<body ng-controller="MainCtrl">
    <!-- nav bar starts here -->
     	<% include ./partials/header %>
    <!-- nav bar ends here -->

    <div class="container-fluid sign-up-bg_img">
        <div class="col-sm-10 col-sm-offset-1">
            <div class="row">
                <div class="col-sm-6 col-sm-offset-3">
                    <!-- top-side ad div -->
                    <div class="ad-space-top">
                        <img src="./img/ad1.png" class="img-responsive ad-top" style="margin-bottom:10px">
                    </div>
                </div>
                <!-- col-sm-6 -->
            </div>
            <!-- row -->
            <h3 class="select-building-type">Add Building Picture</h3>
            <div class="row" style="margin:0; padding-bottom:20px; background:#fff;">
                <!-- left-side ad div -->
                <div class="col-sm-3 col-md-3 col-lg-2">
                    <div class="ad-space-left">
                        <img src="./img/ad2.png" class="img-responsive ad-left">
                    </div>
                </div>

        <form action="/UploadImage" method="post" enctype="multipart/form-data" >
                <!-- col-sm-3 col-md-3 col-lg-2 -->
                <div class="col-sm-6 col-md-6 col-lg-8">
                    <div class="upload-bic-bg">
                        <div class="upload-pic">
                            <i class="fa fa-image add-pic"></i>
                            <h6 class="label-add-pic"><b>Add Building Picture</b></h6>
                            <h6 class="label-add-pic">750px x 600px minimum</h6>
                            <!-- upload pic -->
                            <label class="btn btn-is-green" for="first_image">
                                <input id="first_image" name="first_image" type="file" style="display:none"> Upload Picture &nbsp; &nbsp;<i class="fa fa-upload"></i>
                            </label>
                        </div>
                        <!-- upload-pic  -->
                    </div>
                    <!-- upload-bic-bg -->
                </div>
                <!-- col-sm-6 -->
                <!-- right-side ad div -->
                <div class="col-sm-3 col-md-3 col-lg-2">
                    <div class="ad-space-right">
                        <img src="./img/ad4.png" class="img-responsive ad-right">
                    </div>
                </div>
                <!-- col-sm-3 col-md-3 col-lg-2 -->
                <div class="clearfix"></div>
                <h3 class="select-building-type">Add more Picture & Scanned Drawings</h3>
                <br/>          
                 
                <div class="col-sm-4 col-md-4 col-lg-3">
                    <div ng-hide="ImgDone" class="upload-bic-bg_small">
                        <div class="upload-pic_small">
                            <i class="fa fa-image add-pic-small"></i>
                            <h6 class="label-add-pic"><b>Add Building Picture</b></h6>
                            <h6 class="label-add-pic">750px x 600px minimum</h6>
                            <!-- upload pic -->
                            <label class="btn small-btn-is-green" for="SecondImage">
                                <input ng-model="files" ng-file-select="" id="SecondImage" type="file" style="display:none"> Upload &nbsp; &nbsp;<i class="fa fa-upload"></i>
                            </label>
                        </div>
                        <!-- upload-pic_small -->
                    </div>

                    <!--progress bar -->
                        <div class="progress" ng-if="progressPercentage" >
                          <div class="progress-bar progress-bar-info progress-bar-striped"
                             role="progressbar"                       
                             aria-valuemin="0" aria-valuemax="100" 
                             style="width:{{progressPercentage}}% ; background-color: blue; height: 10px">  
                          </div>
                        </div>
                     <!--progress bar -->
                    <!--upload-bic-bg_small -->
                     <div ng-show="ImgDone" class="CloudiImage" ng-init="myImgVar.src='' ; myImgVar.url='';">
                        <img class="img-responsive" ng-src="{{myImgVar.url}}">
                        
                      <!-- the below div will be visible on hover -->
                        <div class="upload-hover-wrapper" style="height: 100%;" >
                            <span><i ng-click="Delete_img(myImgVar.id)" class="fa fa-times"></i></span>
                        </div> <!-- upload-hover-wrapper -->
                        
                    </div>                 
                </div>
                <!--  col-sm-4 -->
                <div class="col-sm-4 col-md-4 col-lg-3">
                    <div class="upload-bic-bg_small">
                        <div class="upload-pic_small">
                            <i class="fa fa-image add-pic-small"></i>
                            <h6 class="label-add-pic"><b>Add Building Picture</b></h6>
                            <h6 class="label-add-pic">750px x 600px minimum</h6>
                            <!-- upload pic -->
                            <label class="btn small-btn-is-green" for="my-file-selector"> 
                                <input ng-model="files" ng-file-select="" id="my-file-selector" type="file" style="display:none"> Upload &nbsp; &nbsp;<i class="fa fa-upload"></i>
                            </label>
                        </div>
                        <!-- upload-pic_small -->
                    </div>
                    <!--upload-bic-bg_small -->
                </div>
                <!-- col-sm-4  -->
                <div class="col-sm-4 col-md-4 col-lg-3">
                    <div class="upload-bic-bg_small">
                        <div class="upload-pic_small">
                            <i class="fa fa-image add-pic-small"></i>
                            <h6 class="label-add-pic"><b>Add Building Picture</b></h6>
                            <h6 class="label-add-pic">750px x 600px minimum</h6>
                            <!-- upload pic -->
                            <label class="btn small-btn-is-green" for="my-file-selector">
                                <input ng-model="files" ng-file-select="" id="my-file-selector" type="file" style="display:none"> Upload &nbsp; &nbsp;<i class="fa fa-upload"></i>
                            </label>
                        </div>
                        <!-- upload-pic_small -->
                    </div>
                    <!--upload-bic-bg_small -->
                </div>
                <!--  col-sm-4 -->
                <div class="col-sm-4 col-md-4 col-lg-3">
                    <div class="upload-bic-bg_small">
                        <div class="upload-pic_small">
                            <i class="fa fa-image add-pic-small"></i>
                            <h6 class="label-add-pic"><b>Add Building Picture</b></h6>
                            <h6 class="label-add-pic">750px x 600px minimum</h6>
                            <!-- upload pic -->
                            <label class="btn small-btn-is-green" for="my-file-selector">
                                <input ng-model="files" ng-file-select="" id="my-file-selector" type="file" style="display:none"> Upload &nbsp; &nbsp;<i class="fa fa-upload"></i>
                            </label>
                        </div>
                        <!-- upload-pic_small -->
                    </div>
                    <!--upload-bic-bg_small -->
                </div>
                <!-- col-sm-4  -->
                <div class="col-sm-12 text-center">
                    <button onclick="return UploadThenMove()" type="submit" class="orange-btn" 
                        style="width: 190px;"> Save & Continue &nbsp; &nbsp;&nbsp;&nbsp;
                        <i class="fa fa-arrow-right"></i>
                    </button>
                    <h6><b><i>Continue to Add Building Information...</i></b></h6>
                </div>
            </div>
        </form>
            <!-- row --->
            <div class="row">
                <div class="col-sm-6 col-sm-offset-3">
                    <!-- bottom-side ad div -->
                    <div class="ad-space-top">
                        <img src="./img/ad3.png" class="img-responsive ad-bottom" style="margin:20px auto;">
                    </div>
                </div>
                <!-- col-sm-6 -->
            </div>
            <!-- row -->
        </div>
        <!-- col-sm-10 -->
    </div>
    <!-- container-fluid -->
    <!--- footer  -->
      <% include ./partials/footer %>
    <!--- footer  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
   

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular.min.js"></script>

    <script src="js/src/jquery.cloudinary.js"></script>

    <script src="js/src/angular-file-upload.min.js"></script>

    <script src="js/AddPictureScript.js"></script>

    <script type="text/javascript">
        function UploadThenMove() {
            var x = document.getElementById("first_image"); 
            if(x.files.length == 0){
                alert('Upload the Main Image');
                return false;
            };           
        }
    </script>

    <script>
            $(document).ready(function(){
                $(".CloudiImage").hover(function(){  
                    $(this).find(".upload-hover-wrapper").toggleClass("toggle-onhover");
                });
            });
            
    </script>   

</body>

</html>
